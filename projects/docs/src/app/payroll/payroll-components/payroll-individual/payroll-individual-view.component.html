<!-- ============================================================== -->
<!-- Main wrapper - style you can find in pages.scss -->
<!-- ============================================================== -->
<div class="m-0 d-flex main-container main-form" *ngIf="themeSrv.themeState$ | async as state">

  <!-- ============================================================== -->
  <!-- Topbar - style you can find in header.scss -->
  <!-- ============================================================== -->
  <mat-toolbar color="primary" class="topbar telative">
    <!-- ============================================================== -->
    <!-- sidebar toggle -->
    <!-- ============================================================== -->

    <button mat-icon-button (click)="formMenu.toggle()" value="sidebarclosed">
      <mat-icon>menu</mat-icon>
    </button>

    <!-- ============================================================== -->
    <!-- Logo - style you can find in header.scss -->
    <!-- ============================================================== -->
    <div class="navbar-header d-flex align-items-center">
      <a class="navbar-brand" (click)="navSrv.navigate('/nómina')">
        <strong>
          Luis F. Urbina
        </strong>
      </a>
      <ng-container *ngIf="!(state.XSmall || state.Small)">
        >
        <a class="navbar-brand" (click)="navSrv.navigate('/nómina/view')">
          <strong>
            Individual
          </strong>
        </a>
        >
        <a class="navbar-brand">
          Nueva
        </a>
      </ng-container>
    </div>

    <span fxFlex></span>


    <button mat-button (click)="navSrv.navigate('/nómina/deducciones/view/form')"
      *ngIf="!(state.XSmall || state.Small)">
      <mat-icon>add_circle</mat-icon>Deducción
    </button>
    <button mat-button (click)="navSrv.navigate('/nómina/devengos/view/form')" *ngIf="!(state.XSmall || state.Small)">
      <mat-icon>add_circle</mat-icon>Devengo
    </button>
    <button mat-button (click)="save()">
      <mat-icon>save</mat-icon><span *ngIf="!(state.XSmall || state.Small)">Guardar</span>
    </button>
    <button [matMenuTriggerFor]="sdprofile" mat-icon-button color="primary" color="accent">
      <mat-icon>more_vert</mat-icon>
    </button>
    <mat-menu #sdprofile="matMenu" class="mymegamenu">
      <button mat-menu-item (click)="save()" *ngIf="(state.XSmall || state.Small)">
        <mat-icon>add_circle</mat-icon>Deducción
      </button>
      <button mat-menu-item (click)="save()" *ngIf="(state.XSmall || state.Small)">
        <mat-icon>add_circle</mat-icon>Devengo
      </button>
      <button mat-menu-item (click)="toggleFullScreen()">
        <ng-container *ngIf="!state.fullScreen">
          <mat-icon>open_in_full</mat-icon> Pantalla completa
        </ng-container>
        <ng-container *ngIf="state.fullScreen">
          <mat-icon>close_fullscreen</mat-icon> Pantalla normal
        </ng-container>
      </button>
      <button mat-menu-item (click)="onNoClick()">
        <mat-icon>cancel</mat-icon>Cancelar
      </button>
    </mat-menu>
    <!-- ============================================================== -->
    <!-- app header component - style you can find in header.scss / header.component.ts-->
    <!-- ============================================================== -->

  </mat-toolbar>
  <!-- ============================================================== -->
  <!-- End Topbar - style you can find in pages.scss -->
  <!-- ============================================================== -->
  <mat-sidenav-container class="page-container" style.marginTop.px="0" style="height: calc(100vh - 128px);">
    <!-- ============================================================== -->
    <!-- Sidebar - style you can find in sidebar.scss -->
    <!-- ============================================================== -->
    <mat-sidenav #formMenu id="formMenu" class="dark-sidebar pl-xs" fixedTopGap="0" opened="true"
      [mode]="(state.XSmall || state.Small) ? 'over' : 'side'" fixedTopGap="0" [opened]="!(state.XSmall || state.Small)"
      style="direction: rtl;">

      <mat-nav-list appAccordion style="direction: ltr ">
        <form [formGroup]="form" class="m-0 d-flex main-container main-form">
          <mat-form-field class="find-menu-item" style="direction: ltr; padding: 0px 15px ">
            <mat-label>Buscar...</mat-label>
            <input type="text" matInput formControlName="menuItem" placeholder="Buscar" #buscar>
            <mat-icon *ngIf="buscar.value" (click)="buscar.value = ''; filter('');" matSuffix mat-fab>clear</mat-icon>
          </mat-form-field>
        </form>
        <mat-list-item appAccordionLink *ngFor="let menuitem of menuItems" routerLinkActive="selected"
          group="{{menuitem.state}}">
          <a class="" appAccordionToggle (click)="formMenu.toggle(); scrollToElement(ind.formView)"
            *ngIf="menuitem.type === 'link'">
            <mat-icon>{{ menuitem.icon }}</mat-icon>
            <span>{{ menuitem.name }}</span>
            <span fxFlex></span>
            <span class="label label-{{ badge.type }}" *ngFor="let badge of menuitem.badge">{{ badge.value }}</span>
          </a>
        </mat-list-item>
      </mat-nav-list>

    </mat-sidenav>
    <!-- ============================================================== -->
    <!-- Sidebar - style you can find in sidebar.scss -->
    <!-- ============================================================== -->

    <!-- ============================================================== -->
    <!-- Page container - style you can find in pages.scss -->
    <!-- ============================================================== -->
    <mat-sidenav-content class="page-wrapper">
      <app-payroll-individual-form-dialog #ind></app-payroll-individual-form-dialog>
      <app-devengados-form></app-devengados-form>
      <app-deducciones-form></app-deducciones-form>
      <app-totales-card-form></app-totales-card-form>
    </mat-sidenav-content>
    <!-- ============================================================== -->
    <!-- Page container - style you can find in pages.scss -->
    <!-- ============================================================== -->
  </mat-sidenav-container>


</div>
